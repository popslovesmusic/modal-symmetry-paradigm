{
  // How connectors compose with each other
  $schema: "https://json-schema.org/draft-07/schema#",
  title: "MBC Connector Interaction Table",
  type: "object",

  properties: {
    schema_version: { type: "string" },
    family_id: { type: "string" },
    family_name: { type: "string" },

    // List of pairwise interaction entries
    interactions: {
      type: "array",
      items: {
        type: "object",
        properties: {
          lhs_connector: { type: "string" }, // connector ID
          rhs_connector: { type: "string" }, // connector ID
          composition_kind: {
            type: "string",
            enum: [
              "serial",       // C = B âˆ˜ A
              "parallel",     // C = A || B
              "merged",       // fused into new connector
              "forbidden",    // invalid combination
            ],
          },
          result_connector: { type: "string" }, // connector ID or null if forbidden
          notes: { type: "string" },
          constraints: {
            type: "array",
            items: { type: "string" }, // references to invariants / axioms
          },
        },
        required: [
          "lhs_connector",
          "rhs_connector",
          "composition_kind",
        ],
      },
    },
  },

  required: ["schema_version", "family_id", "interactions"],
}
